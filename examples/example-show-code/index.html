<!DOCTYPE html>
<html>
    <head>
    	<meta charset='utf-8'>
        <title></title>
        <script src="/source/j/core.js"></script>
        <script>W.css('../../source/c/reset.css','../../source/c/core.css','../../libs/css/markdown.css','../../libs/css/highlight.css');</script>
        <style>
        .main_container{width:980px;margin: 0 auto;border: 1px solid white;/*防止子元素margin影响*/}
        ul{
            list-style: none outside none;
            margin: 0;
            padding: 0;
        }
        li{
            background: #ddd;
            margin: 5px;
            padding: 3px 10px;
            width: 300px;
            word-break:break-all;
        }
        </style>
    </head>
    <body>
    	<div class="main_container">
            <h1>拖拽模块——拖动</h1>
            <div class="example_container">
                <style class="example_css">
                </style>
                <div class="example_html">
                </div>
                <script class="example_js">
                </script>
            </div>
            <div class="example_container">
                <style class="example_css">
                .layout-horizontal{width: 450px;}
                .layout-horizontal ul{
                    float: left; background: #eee;
                    display: inline;
                    width: 130px;
                    margin: 0 10px;
                    padding: 0px;
                    padding: 10px 0;}
                .layout-horizontal ul li{width: 100px;}
                .container ul li.drag_placeholder{
                    border: 2px dotted #000;
                    padding: 1px 8px;
                    text-indent: -2000px;
                    background: none;
                }
                </style>
                <div class="example_html">
                    <input type="button" value="添加新布局" style="margin-left: 10px;" id="btn-addlayout"/>
                    <br/>
                    <div class="container layout-horizontal clearfix">
                        <ul>
                            <li>One</li>
                            <li>Two</li>
                            <li>Three</li>
                            <li>Four</li>
                            <li>Five</li>
                        </ul>
                        <ul></ul>
                    </div>
                </div>
                <script class="example_js">
                W.use('j/m_drag',function(Drag){
                    /*************布局****************/
                    // 1.左右两列布局
                    var layout1 = new Drag({
                        'container': '.layout-horizontal:first',
                        'animal': 200,
                        'getLayoutContainer': function($dragHandle){
                            if($dragHandle && $dragHandle.length > 0){
                                return $dragHandle.closest('ul');
                            }
                            else{
                                return $('.layout-horizontal:first ul')
                            }           
                        },
                        'dragHandle': '.layout-horizontal:first li'
                    }).layout();
                    $('#btn-addlayout').click(function(){
                        layout1.addLayout($('<'+'ul>'));
                        $(this).remove();
                    });
                });
                </script>
            </div>
            <div class="example_container">
                <style class="example_css">
                .layout-horizontal{width: 450px;}
                .layout-horizontal ul{
                    float: left; background: #eee;
                    display: inline;
                    width: 130px;
                    margin: 0 10px;
                    padding: 0px;
                    padding: 10px 0;}
                .layout-horizontal ul li{width: 100px;}
                .container ul li.drag_placeholder{
                    border: 2px dotted #000;
                    padding: 1px 8px;
                    text-indent: -2000px;
                    background: none;
                }
                </style>
                <div class="example_html">
                    <input type="button" value="添加新布局" style="margin-left: 10px;" id="btn-addlayout"/>
                    <br/>
                    <div class="container layout-horizontal clearfix">
                        <ul>
                            <li>One</li>
                            <li>Two</li>
                            <li>Three</li>
                            <li>Four</li>
                            <li>Five</li>
                        </ul>
                        <ul></ul>
                    </div>
                </div>
                <script class="example_js">
                W.use('j/m_drag',function(Drag){console.log(123);
                    /*************布局****************/
                    // 1.左右两列布局
                    var layout1 = new Drag({
                        'container': '.layout-horizontal:last',
                        'animal': 200,
                        'getLayoutContainer': function($dragHandle){
                            if($dragHandle && $dragHandle.length > 0){
                                return $dragHandle.closest('ul');
                            }
                            else{
                                return $('.layout-horizontal:last ul')
                            }           
                        },
                        'dragHandle': '.layout-horizontal:last li'
                    }).layout();
                    $('#btn-addlayout').click(function(){
                        layout1.addLayout($('<'+'ul>'));
                        $(this).remove();
                    });
                });
                </script>
            </div>
        </div>

        <script>W.use('../libs/js/m_show_code');</script>
    </body>
</html>